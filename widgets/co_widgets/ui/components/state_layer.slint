import { co } from "../co/co.slint";

// A `TouchArea` that represents also a visual state (hover | pressed | focused) and can be used as transparent overlay.
export StateLayer := TouchArea {
    // If `true` the components has keyboard focus.
    property<bool> has_focus;
    
    // Defines the border radius of the state overlay.
    property<length> border_radius <=> overlay.border_radius;

    width: 100%;
    height: 100%;

    overlay := Rectangle {  
        width: 100%;
        height: 100%;
        opacity: 0;
        background: co.brushes.state;
    }

    animate opacity { duration: co.durations.fast; easing: ease_in_out; }

    states [
        pressed when root.pressed : {
            overlay.opacity: co.state.pressed;
        }
        hover when root.has_hover : {
            overlay.opacity: co.state.hover;
        }
        focused when root.has_focus && root.enabled : {
            overlay.opacity: co.state.pressed;
        }
    ]
}